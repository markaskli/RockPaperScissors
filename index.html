<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Rock Paper Scissors Game</title>
</head>
<body>
    <h1>Rock, paper and scissors!</h1>
    <div class="buttons">
        <button onclick='playRound("rock")'>Rock</button>
        <button onclick="playRound('paper')">Paper</button>
        <button onclick="playRound('scissors')">Scissors</button>
        
    </div>
    <div class="score">
    <div class="playerScore"></div>
    <div style="margin: 0px 50px">-</div>
    <div class="computerScore"></div>
    </div>
    <div id="results">
    </div>
    <div class="tryAgain">
        <button onclick="refreshPage()">Want to try again?</button>
    </div>
    <script>
    let playerScore = 0;
    let computerScore = 0;

    function getComputerChoice() {
        const choices = ["rock", "paper", "scissors"];
        var randomChoice = choices[Math.floor(Math.random()*choices.length)];
        return randomChoice;
    }


    const container = document.querySelector('#results');
    const message = document.createElement('p');  
    const pScore = document.querySelector('.playerScore');
    pScore.textContent = 0;
    
    const cScore = document.querySelector('.computerScore');
    cScore.textContent = 0;
        
    function playRound(playerSelection) {
        const computerSelection = getComputerChoice();
        if(playerScore !== 5 && computerScore !== 5) {
            if(computerSelection === playerSelection) {
                message.textContent = "Tie!"
            }
            else if(playerSelection === "rock" && computerSelection === "scissors" || playerSelection === "paper" && computerSelection === "rock" || 
        playerSelection === "scissors" && computerSelection === "paper"){
                playerScore++;
                message.textContent = `You win! ${playerSelection} beats ${computerSelection}`;
                pScore.textContent = playerScore; 
                if(playerScore === 5) {
                    message.textContent = "You've won the game!";
                    message.style.color='green';
                }
            }   
            else {
                computerScore++;
                message.textContent = `Computer won! ${computerSelection} beats ${playerSelection}`;
                cScore.textContent = computerScore;
                if(computerScore === 5) {
                    message.textContent = "You've lost the game!"
                    message.style.color='red';
                }
            }
        }
        container.appendChild(message);
    }

    function refreshPage() {
        window.location.reload();
    }

    

 
    </script> 
</body>
</html>